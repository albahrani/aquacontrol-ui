<!-- Dimming Plan -->
<div id="lightplan2" class="container">
  <div class="page-header">
    <span class="h1">Dimming Plan <small>Configure your light dynamics</small></span>
  </div>
  <div class="panel-group">
    <div *ngFor="let channel of plan" class="panel panel-default">
      <!-- Default panel contents -->
      <div class="panel-heading"><span class="h4 panel-title"><div style="float:left; margin-right:4px; width:20px; height:20px" [style.background-color]="channel.color"></div>{{channel.name}}</span></div>
      <div>
        <div class="panel-body">
          <form class="form-inline">
            <div class="form-group">
              <label for="inputTime">Time</label>
              <input type="text" class="form-control" id="inputTime" name="inputTime" placeholder="Time" [(ngModel)]="getTimeFormData(channel.id).time"/>
            </div>
            <div class="form-group">
              <label class="control-label" for="inputPercentage">Percentage</label>
              <input type="text" class="form-control" id="inputPercentage" name="inputPercentage" placeholder="Percentage" [(ngModel)]="getTimeFormData(channel.id).percentage"/>
            </div>
            <button type="button" class="btn btn-primary" (click)="addTime(channel.id)">Add</button>
          </form>
        </div>
        <!-- Table -->
        <table class="dimming-plan-table table">
          <tbody>
            <tr>
              <th style="width:110px;">Time</th>
              <th *ngFor="let time of channel.times" style="width:90px;">{{time.hour | number:'2.0-0'}}:{{time.minute | number:'2.0-0'}}</th>
              <th></th>
            </tr>
            <tr>
              <th>Percentage</th>
              <td *ngFor="let time of channel.times">{{time.percentage | percent}}</td>
              <td></td>
            </tr>
            <tr>
              <th>Commands</th>
              <td *ngFor="let time of channel.times">
                <button type="button" title="Remove" class="btn btn-danger btn-sm" (click)="removeTime(channel.id, time)"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
              </td>
              <td></td>                  
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>